
Шарды, шардирование для write, доступ к шардам из приложений, решардинг, ключ шардирования, шарды mongo vs cassandra, replica set, mongos, кросс шардовые запросы, replica set по всем цодам, запросы на чтение, репликация данных между primary шардами, CDC, upsert, oplog mongo, index, отдельный сегмент сети для данных

RTO, RPO, graceful degradation(отказ search-service, отказ SSE, отказ монго), backup, защита от шифровальщиков (air-gap бэкапы, immutable хранилища бэкапов)

Архивация, доступ к архивным данным, чистка шардов, скорость получения заявки из batch json в холодном хранилище (индексы хранить в Elastic search, данные в S3 раскидать по папкам "месяц" или "день"), S3 kafka sink, репликация minio, distributed режим minio (репликация внутри кластера) и bucket replication (репликация между кластерами), тэгирование S3 (не поможет для быстрого поиска в архиве), объём S3 1450 TB

API Gateway, rate limiting vs throughput, circuit breaker (на уровне istio или микросервиса), tls termination, кросс-функциональности, обогощение заголовков, вендоры API Gateway

Сетевые протоколы, SSE, переподключение SSE, http/2, http/3 (поверх QUIC UDP а не TCP), gRPC, http/1 (после tls termination на ingress контроллере в бэк-сервис приходит http/1), spring boot (tomcat не подходит для gRPC, jetty подходит)

Наблюдаемость, мониторинг, scrape, варианты вычитывания метрик прометеусом, push не поддерживается прометеусом, pushgateway для batch-job, графана promql запросы, поллинг прометеуса

Безопасность, шифрование, tls, mtls, OIDC (OAuth2.0 с ID тоеном в формате JWT), Keycloak, проверка токена на лету, отзыв токена, межсервисная аутентификация (mTLS через Istio, OAuth2.0 machine-to-machine), плагин с merge логикой вставки в LDAP в случае конкурентных обновлений из цодов, LDAP master, LDAP failover, LDAP с ручным failover через ETCD

Дедупликация (по хэшу запроса, по requestId сгенерированным клиентом), идемпотентность (идемпотентный консюмер, ключ идемпотентности в БД)

GeoDNS, health checks, 3 ЦОД, BigIP, CDN (может выступать как реальный кэш), LB(L4)->WAF(L7)->API GW(L7), сетевые сегменты, отдельный цод для балансировки (делают только для банков, жертвуют гео-балансировкой и скоростью), защита от DDOS (физ.устройство уровня L3/L4 перед LB в том же сегменте сети)

Архитектура бэкнэнда, сервисы водитель, аналитик, администратор, событие об изменении страховки, transactional outbox, stateless сервисы

Выбор консенсуса кафки, failover primary mongo shard, консенсус монго

Kubernetes, worker ноды, ingress, service discovery, balancing, secret, хранение секретов, Vault, ambassador

Консистентность, время актуализации, время архивирования

CI/CD (отдельный сегмент сети), кэширование, Kafka, API-дизайн


Какие участники OAuth 2.0

---
2 Требования и анализ.

3 Шаблоны проектирования. MVC, CQRS, Event Sourcing, Saga, оркестрация хореография

4 Масштабирование систем. MPP, Greenplum, shard, CAP-теорема, алгоритмы консенсуса

5 Высокая доступность и отказоустойчивость. Performance, время отклика, shared storage, принципы построения отказоустойчивых систем, circuit breaker, tolerant reader

6 Производительность и оптимизация. Ресурсы, способы улучшения производительности, оптимизация хранения данных, планы запросов, skew, индексы, компрессия, партиционирование

7 Сетевые протоколы. HTTP/1.1, HTTP/2, HTTP/3(QUIC), REST, gRPC, WebSockets

8 Работа с API и микросервисами. RESTful API, проектирвоание API, API Gateway, Service Discovery

9 Очереди. Синхрон vs. Асинхрон, Брокеры сообщений, RabbitMQ, Kafka, Redis

10 Проектирование БД. NoSQL, Relational, виды репликации, консистентность

11 Кэширование. Основные аспекты и типы кэширования, Redis, Memcached, CDN

12 Безопасность. Аутентификация и авторизация, session based, cookie based, OAuth2.0, алгоритмы шифрования данных, mTLS, HTTPS

13 Управление доступом и секретами. RBAC/ABAC, ролёвка, secrets storage, Vault

14 Инфраструктура как код. Управление конфигурацией, Infrastucture as Code, Terraform, Ansible, Docker

15 CI/CD. CI/CD, стратегии деплоя, модели бранчевания в Git (GitFlow), Github Actions, Gitlab CI, 

16 Обзор типов вопросов. Общая структура ответа на вопросы по System Design, основные типы вопросов и стратегии ответов

17 Разбор популярных кейсов. Дизайн URL-shortener, дизайн News Feed, дизайн чата

18 Высоконагруженные системы. Дизайн Amazon, дизайн YouTube(не успели)

19 Подготовка к интервью. Требования, декомпозиция, ожидания, проведение собеседований, интервью с заказчиком, список компромиссов(!) важно(!), PACELC, практика создания требований

20 Проектирование БД. Дизайн Telegram, требования, сиквенсы, протоколы, дизайн системы логирования(не успели)

21 Сетевые протоколы. CDN, дизайн Netflix

22 Безопасность. Аутентификация и авторизация, ролёвка, хранение токенов, WAF, Disaster Recovery, практика

23 Devops. CI/CD, тестирование, список задачек(!)

24 Подготовка к интервью. Стратегии решения задач в условиях ограниченного времени, как получать обратную связь, литература

